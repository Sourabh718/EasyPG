<%- include('../partials/head') %>
  </head>
  <body>
    <%- include('../partials/nav') %>
    <main class="container mx-auto mt-20 text-center">
      <!-- <h2 class="text-6xl font-bold text-red-500 mb-4">My Booking</h2> -->
      <main class="container my-5 width">
        <%- include('../partials/sidebar') %>
        <div class="row g-4 bg-green-100 p-4 rounded-4 shadow-lg size">
          <h2 class="text-6xl font-extrabold text-gray-800 mb-6 text-left tracking-tight">My Bookings</h2>  
          <% if (bookings.length === 0) { %>
            <div class="empty-container">
            <img src="../image/Screenshot 2025-08-25 142501.png" alt="bag image" class="mx-auto d-block" style="width:300px; height:300px;"> 
            <p class="empty-text">You don’t have any booking yet.</p>
              <a href="/user/home-list" class="btn btn-primary">← Back to Listings</a>
            </div>
          <% } else {%>  
            <% bookings.forEach(booking => { 
            const home = booking.home  
            %>
            <div class="col-md-4 col-sm-6">
                <div class="card shadow-lg border-0 rounded-4 h-100 card">
                    <img src="/<%= home.photoUrl %>" alt="<%= home.houseName %>" class="card-img-top" style="height: 200px; object-fit: cover;">
                    <div class="card-body">
                      <h5 class="card-title text-primary"><%= home.houseName %></h5>
                        <p class="text-muted mb-2"><i class="bi bi-geo-alt-fill"></i> <%= home.location %></p>
                        <div class="d-flex justify-content-between mb-3">
                            <span class="text-danger fw-bold">₹<%= home.price %> / Month</span>
                            <span class="text-warning fw-bold">★<%= home.rating %></span>
                        </div>
                        <div class="d-flex justify-content-between">
                            <span class="text-success fw-bold">From: <%= booking.stayFrom.toDateString() %></span>
                            <span class="text-danger fw-bold">To: <%= booking.stayTo.toDateString() %></span>
                         
                        </div>
                        <br> 

                        <div class="d-flex justify-content-between">
                            <span class="btn btn-success btn-sm">Booked</span>
                            
                            <a href="/user/home/details/<%=home._id%>" class="btn btn-info btn-sm text-white">Details</a>
                        </div>
                    </div>
                </div>
            </div>
            <% }) %>
            <% } %>
        </div>
    </main>

    </main>
  </body>
</html>